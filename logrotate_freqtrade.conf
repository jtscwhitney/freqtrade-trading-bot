# Freqtrade Log Rotation Configuration
# This configuration keeps more log history than Freqtrade's default (3 files)
# 
# Installation:
#   Linux: Copy to /etc/logrotate.d/freqtrade
#   Windows: Use Windows Task Scheduler with archive_logs.py instead
#
# Usage:
#   Test: logrotate -d logrotate_freqtrade.conf
#   Run: logrotate logrotate_freqtrade.conf

# Path to log files (adjust to your actual path)
user_data/logs/freqtrade.log {
    # Rotate when log file reaches 50MB (matches Freqtrade's internal rotation)
    # Note: Freqtrade's internal rotation uses logfile_size: 50000000 (50MB)
    size 50M
    
    # Keep 10 rotated files instead of default 3
    rotate 10
    
    # Compress rotated logs to save space
    compress
    delaycompress
    
    # Don't create empty log files if missing
    notifempty
    
    # Copy and truncate (safer than move for active logs)
    copytruncate
    
    # Don't rotate if log file is missing
    missingok
    
    # Create new log file with 0644 permissions
    create 0644 root root
    
    # Run archive script after rotation (optional)
    # postrotate
    #     python3 /path/to/archive_logs.py
    # endscript
}
